<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GiveMaster Premium</title>
    <!-- Подключаем Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
        
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            -webkit-tap-highlight-color: transparent;
            background-color: #F8FAFC;
        }
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
        .glass-nav {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-top: 1px solid rgba(255, 255, 255, 0.5);
        }
        .glass-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        .tap-effect:active { transform: scale(0.96); transition: transform 0.1s; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .gradient-primary { background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%); }
        .gradient-card { background: linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,0.85) 100%); }
    </style>
</head>
<body class="text-slate-800 h-screen flex flex-col overflow-hidden selection:bg-indigo-100">

    <!-- HEADER -->
    <div id="header-section" class="glass-header z-20 pt-4 sticky top-0 border-b border-slate-100/50">
        <div class="px-5 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-extrabold tracking-tight text-slate-900">
                    Give<span class="text-indigo-600">Master</span>
                </h1>
                <p class="text-xs text-slate-400 font-medium">Агрегатор честных розыгрышей</p>
            </div>
            <div class="bg-indigo-50 border border-indigo-100 px-3 py-1.5 rounded-full flex items-center gap-2 shadow-sm">
                <i class="fas fa-ticket-alt text-indigo-600 text-xs"></i>
                <span class="text-indigo-900 font-bold text-sm">Гость</span>
            </div>
        </div>
        
        <!-- Категории -->
        <div class="flex space-x-2 overflow-x-auto hide-scroll px-5 pb-4">
            <button onclick="filterCategory('all')" class="cat-btn tap-effect flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold shadow-lg shadow-indigo-500/20 text-white gradient-primary whitespace-nowrap transition-all border border-transparent">
                <i class="fas fa-th-large"></i> Все
            </button>
            <button onclick="filterCategory('crypto')" class="cat-btn tap-effect flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-semibold bg-white text-slate-500 border border-slate-200 whitespace-nowrap transition-all hover:bg-slate-50">
                <i class="fab fa-bitcoin text-amber-500"></i> Крипта
            </button>
            <button onclick="filterCategory('tech')" class="cat-btn tap-effect flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-semibold bg-white text-slate-500 border border-slate-200 whitespace-nowrap transition-all hover:bg-slate-50">
                <i class="fas fa-mobile-alt text-blue-500"></i> Гаджеты
            </button>
             <button onclick="filterCategory('money')" class="cat-btn tap-effect flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-semibold bg-white text-slate-500 border border-slate-200 whitespace-nowrap transition-all hover:bg-slate-50">
                <i class="fas fa-sack-dollar text-green-500"></i> Деньги
            </button>
        </div>
    </div>

    <!-- CONTENT -->
    <div id="main-content" class="flex-1 overflow-y-auto px-5 pt-4 pb-32 hide-scroll bg-slate-50">
        <!-- Рекомендуемое -->
        <div class="mb-8 fade-in">
            <div class="flex justify-between items-end mb-4">
                <h2 class="text-lg font-bold text-slate-800 flex items-center gap-2">
                    <span class="w-1.5 h-6 bg-indigo-600 rounded-full"></span>
                    Горящие предложения
                </h2>
                <span class="text-xs font-semibold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md">TOP</span>
            </div>
            <div class="flex space-x-4 overflow-x-auto hide-scroll pb-4 -mx-5 px-5">
                <div class="min-w-[280px] h-[170px] rounded-3xl relative overflow-hidden shadow-xl shadow-slate-200 tap-effect group" onclick="Telegram.WebApp.showAlert('Это демо-конкурс!')">
                    <img src="https://images.unsplash.com/photo-1550009158-9ebf69173e03?q=80&w=800&auto=format&fit=crop" class="absolute w-full h-full object-cover">
                    <div class="absolute inset-0 gradient-card flex flex-col justify-end p-5">
                        <div class="flex justify-between items-start mb-2">
                            <span class="bg-white/20 backdrop-blur-md border border-white/30 text-white text-[10px] font-bold px-2 py-1 rounded-lg uppercase tracking-wider">Tech</span>
                            <div class="bg-rose-500 text-white text-[10px] font-bold px-2 py-1 rounded-lg flex items-center gap-1 animate-pulse">
                                <i class="fas fa-fire"></i> 1ч 20м
                            </div>
                        </div>
                        <h3 class="text-white font-bold text-lg leading-tight mb-1">MacBook Pro M3</h3>
                        <p class="text-slate-300 text-xs font-medium">От канала "Apple Insider"</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Лента -->
        <div class="flex items-center justify-between mb-4">
             <h2 class="text-lg font-bold text-slate-800">Все активные</h2>
        </div>
        <div id="contest-grid" class="grid grid-cols-1 gap-4"></div>
        <div class="mt-8 text-center pb-6">
            <p class="text-slate-400 text-xs">Больше конкурсов загружается...</p>
        </div>
    </div>

    <script>
        // Инициализация Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand(); // Развернуть на весь экран

        // Данные (Мок)
        const contests = [
            { id: 1, title: "Премиум подписка Telegram 1 год", category: "tech", img: "https://images.unsplash.com/photo-1611162617474-5b21e879e113?q=80&w=800&auto=format&fit=crop", participants: 1420, time: "23ч 10м", author: "TG Daily" },
            { id: 2, title: "500 USDT на кошелек", category: "crypto", img: "https://images.unsplash.com/photo-1621504450168-b87d296fbc9d?q=80&w=800&auto=format&fit=crop", participants: 4500, time: "40м", author: "CryptoWhale" },
            { id: 3, title: "10.000 Рублей на карту", category: "money", img: "https://images.unsplash.com/photo-1559526324-4b87b5e36e44?q=80&w=800&auto=format&fit=crop", participants: 89, time: "12ч 00м", author: "Rich Daddy" },
        ];

        const grid = document.getElementById('contest-grid');

        function renderContests(filter = 'all') {
            grid.innerHTML = '';
            const filtered = filter === 'all' ? contests : contests.filter(c => c.category === filter);
            
            filtered.forEach(c => {
                const card = document.createElement('div');
                card.className = "bg-white rounded-2xl p-3 shadow-sm border border-slate-100 flex gap-4 tap-effect active:scale-[0.98] transition-all";
                // В будущем здесь будет логика участия
                card.onclick = () => tg.showPopup({
                    title: c.title,
                    message: `Хотите участвовать в розыгрыше от ${c.author}?`,
                    buttons: [{type: "ok", text: "Участвовать"}, {type: "cancel", text: "Отмена"}]
                });

                card.innerHTML = `
                    <div class="w-24 h-24 rounded-xl overflow-hidden shadow-inner flex-shrink-0 relative">
                        <img src="${c.img}" class="w-full h-full object-cover">
                    </div>
                    <div class="flex flex-col flex-1 justify-between py-0.5">
                        <div>
                            <span class="text-[10px] font-bold text-indigo-500 uppercase tracking-wide mb-0.5 block">${c.author}</span>
                            <h3 class="text-sm font-bold text-slate-800 leading-snug line-clamp-2">${c.title}</h3>
                        </div>
                        <div class="flex items-center justify-between mt-2">
                             <div class="flex items-center gap-1.5">
                                <span class="text-[10px] text-slate-400 font-medium">+${c.participants} уч.</span>
                             </div>
                             <button class="bg-indigo-50 text-indigo-600 w-8 h-8 rounded-full flex items-center justify-center">
                                <i class="fas fa-chevron-right text-xs"></i>
                             </button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function filterCategory(cat) {
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.className = "cat-btn tap-effect flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-semibold bg-white text-slate-500 border border-slate-200 whitespace-nowrap transition-all hover:bg-slate-50";
            });
            event.currentTarget.className = "cat-btn tap-effect flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold shadow-lg shadow-indigo-500/20 text-white gradient-primary whitespace-nowrap transition-all border border-transparent";
            renderContests(cat);
        }

        renderContests();
    </script>
</body>
</html>